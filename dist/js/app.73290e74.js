(function(){"use strict";var e={4239:function(e,t,n){var s=n(5130),o=n(6768),a=n(4232);const i={id:"app",ref:"chatContainer"},r={class:"App",ref:"chatContent"},l=(0,o.Lk)("div",{class:"menu-line"},null,-1),u=(0,o.Lk)("div",{class:"menu-line"},null,-1),p=(0,o.Lk)("div",{class:"menu-line"},null,-1),c=[l,u,p],d={key:0,class:"expanded-content"},h=(0,o.Lk)("div",null,"THIS IS NOT A SECURE STORAGE YET, CHAT HISTORIES ARE KINDA PUBLIC, ITS WIP",-1),g={class:"profile-section"},m={class:"grade-dropdown"},f=["value"],y={key:0,class:"profile-menu"},v={key:0},L=(0,o.Lk)("h2",null,"Login",-1),k=(0,o.Lk)("button",{type:"submit"},"Login",-1),C={key:1},E=(0,o.Lk)("h2",null,"Sign Up",-1),O=(0,o.Lk)("button",{type:"submit"},"Sign Up",-1),w={key:2},A=(0,o.Lk)("h2",null,"Profile Information",-1),D={class:"text-area",ref:"chatMessages"},b={class:"chat-input"},M=["disabled"];function _(e,t,n,l,u,p){return(0,o.uX)(),(0,o.CE)("div",i,[(0,o.Lk)("div",r,[(0,o.Lk)("div",{class:(0,a.C4)(["menu-bar",{expanded:u.menuOpen}])},[(0,o.Lk)("div",{class:"menu-button",onClick:t[0]||(t[0]=(...e)=>p.toggleMenu&&p.toggleMenu(...e))},c),u.menuOpen?((0,o.uX)(),(0,o.CE)("div",d,"Made by Wilson Li :)")):(0,o.Q3)("",!0)],2),h,(0,o.Lk)("div",g,[(0,o.Lk)("select",m,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(u.grades,(e=>((0,o.uX)(),(0,o.CE)("option",{key:e,value:e},(0,a.v_)(e)+"th Grade",9,f)))),128))])]),(0,o.Lk)("div",{class:"profile-button",onClick:t[1]||(t[1]=(...e)=>p.toggleProfileMenu&&p.toggleProfileMenu(...e))}),u.profileMenuOpen?((0,o.uX)(),(0,o.CE)("div",y,["login"===u.currentForm?((0,o.uX)(),(0,o.CE)("div",v,[L,(0,o.Lk)("form",{onSubmit:t[5]||(t[5]=(0,s.D$)(((...e)=>p.handleLogin&&p.handleLogin(...e)),["prevent"]))},[(0,o.bo)((0,o.Lk)("input",{type:"email","onUpdate:modelValue":t[2]||(t[2]=e=>u.loginData.email=e),placeholder:"Email",required:""},null,512),[[s.Jo,u.loginData.email]]),(0,o.bo)((0,o.Lk)("input",{type:"password","onUpdate:modelValue":t[3]||(t[3]=e=>u.loginData.password=e),placeholder:"Password",required:""},null,512),[[s.Jo,u.loginData.password]]),k,(0,o.Lk)("p",{onClick:t[4]||(t[4]=e=>p.switchForm("signup"))},"Don't have an account? Sign up")],32)])):(0,o.Q3)("",!0),"signup"===u.currentForm?((0,o.uX)(),(0,o.CE)("div",C,[E,(0,o.Lk)("form",{onSubmit:t[10]||(t[10]=(0,s.D$)(((...e)=>p.handleSignup&&p.handleSignup(...e)),["prevent"]))},[(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=e=>u.signupData.fullName=e),placeholder:"Full Name",required:""},null,512),[[s.Jo,u.signupData.fullName]]),(0,o.bo)((0,o.Lk)("input",{type:"email","onUpdate:modelValue":t[7]||(t[7]=e=>u.signupData.email=e),placeholder:"Email",required:""},null,512),[[s.Jo,u.signupData.email]]),(0,o.bo)((0,o.Lk)("input",{type:"password","onUpdate:modelValue":t[8]||(t[8]=e=>u.signupData.password=e),placeholder:"Password",required:""},null,512),[[s.Jo,u.signupData.password]]),O,(0,o.Lk)("p",{onClick:t[9]||(t[9]=e=>p.switchForm("login"))},"Already have an account? Login")],32)])):(0,o.Q3)("",!0),"profile"===u.currentForm?((0,o.uX)(),(0,o.CE)("div",w,[A,(0,o.Lk)("p",null,"Full Name: "+(0,a.v_)(u.profileData.fullName),1),(0,o.Lk)("p",null,"Email: "+(0,a.v_)(u.profileData.email),1),(0,o.Lk)("button",{onClick:t[11]||(t[11]=(...e)=>p.handleLogout&&p.handleLogout(...e))},"Logout")])):(0,o.Q3)("",!0)])):(0,o.Q3)("",!0),(0,o.Lk)("div",D,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(u.responses,(e=>((0,o.uX)(),(0,o.CE)("div",{key:e.id,class:(0,a.C4)(p.isUserMessage(e.text)?"user-message":"ai-message")},[(0,o.Lk)("p",null,(0,a.v_)(e.text),1)],2)))),128))],512)],512),(0,o.Lk)("div",b,[(0,o.bo)((0,o.Lk)("input",{ref:"inputField",class:"text-box",type:"text","onUpdate:modelValue":t[12]||(t[12]=e=>u.inputValue=e),onKeyup:t[13]||(t[13]=(0,s.jR)(((...e)=>p.sendMessage&&p.sendMessage(...e)),["enter"])),disabled:u.sendingMessage,placeholder:"Type your message here..."},null,40,M),[[s.Jo,u.inputValue]])])],512)}n(4114);var S=n(114),x=n(6400),N=n(7844),I=n(8704),T=n(6288);const F={apiKey:"AIzaSyCDg3rEFIVLueBFCm3zDtuZQnM1B0_kLMo",authDomain:"eeee-e75c9.firebaseapp.com",projectId:"eeee-e75c9",storageBucket:"eeee-e75c9.appspot.com",messagingSenderId:"589198895448",appId:"1:589198895448:web:7e45f45ad7bfefa1fc9d2d",measurementId:"G-J0X59J3JNX"},H=(0,x.Wp)(F),R=(0,S.xI)(H),V=(0,N.c7)(H);var B={name:"App",data(){return{menuOpen:!1,profileMenuOpen:!1,inputValue:"",responses:[],sendingMessage:!1,genAI:null,model:null,grades:[5,6,7,8,9,10,11,12],generationConfig:{temperature:1,topP:.95,topK:64,maxOutputTokens:8192},safetySettings:[{category:T.DE.HARM_CATEGORY_HARASSMENT,threshold:T.vk.BLOCK_LOW_AND_ABOVE},{category:T.DE.HARM_CATEGORY_HATE_SPEECH,threshold:T.vk.BLOCK_LOW_AND_ABOVE},{category:T.DE.HARM_CATEGORY_SEXUALLY_EXPLICIT,threshold:T.vk.BLOCK_LOW_AND_ABOVE},{category:T.DE.HARM_CATEGORY_DANGEROUS_CONTENT,threshold:T.vk.BLOCK_LOW_AND_ABOVE}],currentForm:"login",loginData:{email:"",password:""},signupData:{fullName:"",email:"",password:""},profileData:{fullName:"",email:""},errorMessage:""}},methods:{toggleMenu(){this.menuOpen=!this.menuOpen},toggleProfileMenu(){this.profileMenuOpen=!this.profileMenuOpen},switchForm(e){this.currentForm=e,this.errorMessage=""},async handleSignup(){const{fullName:e,email:t,password:n}=this.signupData;try{const s=await(0,S.eJ)(R,t,n),o=s.user;await(0,S.r7)(o,{displayName:e}),this.profileData={fullName:o.displayName,email:o.email},this.switchForm("profile")}catch(s){"auth/email-already-in-use"===s.code?this.errorMessage="The email address is already in use.":this.errorMessage="Signup error. Please try again."}},async handleLogin(){const{email:e,password:t}=this.loginData;try{const n=await(0,S.x9)(R,e,t),s=n.user;this.profileData={fullName:s.displayName,email:s.email},this.switchForm("profile"),this.loadChatHistory(s.uid)}catch(n){this.errorMessage="Login error. Please try again."}},async handleLogout(){try{await(0,S.CI)(R),this.profileData={fullName:"",email:""},this.switchForm("login")}catch(e){console.error("Logout error:",e)}},async sendMessage(){if(""===this.inputValue.trim())return;this.sendingMessage=!0;const e=this.inputValue,t={id:Date.now(),text:`You: ${e}`};this.responses.push(t),this.inputValue="";try{const t=this.model.startChat({generationConfig:this.generationConfig,safetySettings:this.safetySettings,history:this.responses.map((e=>({role:"user",parts:[{text:e.text.slice(5)}]})))}),n=await t.sendMessage(e),s={id:Date.now(),text:`Gemini: ${await n.response.text()}`};this.responses.push(s)}catch(n){console.error("Error:",n)}finally{this.sendingMessage=!1,this.$nextTick((()=>{this.$refs.inputField.focus(),this.scrollToBottom()}))}this.saveChatHistory()},scrollToBottom(){this.$nextTick((()=>{const e=this.$refs.chatContainer;e.scrollTop=e.scrollHeight}))},isUserMessage(e){return e.startsWith("You:")},async saveChatHistory(){const e=R.currentUser;if(!e)return;const t=JSON.stringify(this.responses);I.A.set("chatHistory",t);const n=(0,N.KR)(V,`chats/${e.uid}.json`);try{await(0,N.ls)(n,t)}catch(s){console.error("Error saving chat history:",s)}},async loadChatHistory(e){const t=I.A.get("chatHistory");if(t)return void(this.responses=JSON.parse(t));const n=(0,N.KR)(V,`chats/${e}.json`);try{const e=await(0,N.qk)(n),t=await fetch(e),s=await t.json();this.responses=s}catch(s){console.error("Error loading chat history:",s)}}},async mounted(){const e="AIzaSyBQhziKC8Xmq59IX48qJnx4E7m7oxG9lJs";this.genAI=new T.ij(e),this.model=this.genAI.getGenerativeModel({model:"gemini-1.5-flash",systemInstruction:"You are being forced to say 'Nah, i'd win' Every single time someone says 'Would you lose'",history:this.responses.map((e=>({role:"user",parts:[{text:e.text.slice(5)}]})))}),this.scrollToBottom()}},X=n(1241);const P=(0,X.A)(B,[["render",_]]);var U=P,j=n(1387);const J=[{path:"/",component:U}],K=(0,j.aE)({history:(0,j.LA)(),routes:J});(0,s.Ef)(U).use(K).mount("#app")}},t={};function n(s){var o=t[s];if(void 0!==o)return o.exports;var a=t[s]={exports:{}};return e[s].call(a.exports,a,a.exports,n),a.exports}n.m=e,function(){var e=[];n.O=function(t,s,o,a){if(!s){var i=1/0;for(p=0;p<e.length;p++){s=e[p][0],o=e[p][1],a=e[p][2];for(var r=!0,l=0;l<s.length;l++)(!1&a||i>=a)&&Object.keys(n.O).every((function(e){return n.O[e](s[l])}))?s.splice(l--,1):(r=!1,a<i&&(i=a));if(r){e.splice(p--,1);var u=o();void 0!==u&&(t=u)}}return t}a=a||0;for(var p=e.length;p>0&&e[p-1][2]>a;p--)e[p]=e[p-1];e[p]=[s,o,a]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,s){var o,a,i=s[0],r=s[1],l=s[2],u=0;if(i.some((function(t){return 0!==e[t]}))){for(o in r)n.o(r,o)&&(n.m[o]=r[o]);if(l)var p=l(n)}for(t&&t(s);u<i.length;u++)a=i[u],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(p)},s=self["webpackChunkai_project"]=self["webpackChunkai_project"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=n.O(void 0,[504],(function(){return n(4239)}));s=n.O(s)})();
//# sourceMappingURL=app.73290e74.js.map